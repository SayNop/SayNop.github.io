<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.68">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta property="og:url" content="https://saynop.github.io/detail/004.html"><meta property="og:title" content="Supervisor的配置"><meta property="og:description" content="安装 推荐使用pip进行安装。项目环境若为python3，可直接安装在python3下 pip3 install supervisor"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-10-18T06:41:25.000Z"><meta property="article:tag" content="Supervisor"><meta property="article:tag" content="Linux"><meta property="article:published_time" content="2023-03-08T00:00:00.000Z"><meta property="article:modified_time" content="2023-10-18T06:41:25.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Supervisor的配置","image":[""],"datePublished":"2023-03-08T00:00:00.000Z","dateModified":"2023-10-18T06:41:25.000Z","author":[]}</script><link rel="icon" href="/favicon.ico"><title>Supervisor的配置</title><meta name="description" content="安装 推荐使用pip进行安装。项目环境若为python3，可直接安装在python3下 pip3 install supervisor">
    <link rel="preload" href="/assets/style-89225919.css" as="style"><link rel="stylesheet" href="/assets/style-89225919.css">
    <link rel="modulepreload" href="/assets/app-04189a34.js"><link rel="modulepreload" href="/assets/004.html-f010d120.js"><link rel="modulepreload" href="/assets/004.html-689926d8.js">
    <link rel="prefetch" href="/assets/index.html-f33fda43.js" as="script"><link rel="prefetch" href="/assets/001.html-12451cc3.js" as="script"><link rel="prefetch" href="/assets/002.html-a6d5828c.js" as="script"><link rel="prefetch" href="/assets/003.html-6c773146.js" as="script"><link rel="prefetch" href="/assets/005.html-d6b96039.js" as="script"><link rel="prefetch" href="/assets/006.html-5b50a542.js" as="script"><link rel="prefetch" href="/assets/007.html-d3b6ddc8.js" as="script"><link rel="prefetch" href="/assets/008.html-042c4a7a.js" as="script"><link rel="prefetch" href="/assets/009.html-7d1574d7.js" as="script"><link rel="prefetch" href="/assets/010.html-f1724340.js" as="script"><link rel="prefetch" href="/assets/011.html-10672fd1.js" as="script"><link rel="prefetch" href="/assets/012.html-5e7aa08e.js" as="script"><link rel="prefetch" href="/assets/013.html-8dd46ba3.js" as="script"><link rel="prefetch" href="/assets/014.html-d0db391f.js" as="script"><link rel="prefetch" href="/assets/015.html-7a04f43c.js" as="script"><link rel="prefetch" href="/assets/016.html-79bc20a6.js" as="script"><link rel="prefetch" href="/assets/017.html-225b58d3.js" as="script"><link rel="prefetch" href="/assets/018.html-185c4621.js" as="script"><link rel="prefetch" href="/assets/019.html-78c7a739.js" as="script"><link rel="prefetch" href="/assets/020.html-4dd3991a.js" as="script"><link rel="prefetch" href="/assets/021.html-58600ead.js" as="script"><link rel="prefetch" href="/assets/404.html-a0fec2a7.js" as="script"><link rel="prefetch" href="/assets/index.html-75381ff5.js" as="script"><link rel="prefetch" href="/assets/index.html-c95ce669.js" as="script"><link rel="prefetch" href="/assets/index.html-2c56dc8e.js" as="script"><link rel="prefetch" href="/assets/index.html-98874abd.js" as="script"><link rel="prefetch" href="/assets/index.html-b2308fb7.js" as="script"><link rel="prefetch" href="/assets/index.html-10e703b4.js" as="script"><link rel="prefetch" href="/assets/index.html-5f3af54d.js" as="script"><link rel="prefetch" href="/assets/index.html-56349a98.js" as="script"><link rel="prefetch" href="/assets/index.html-a7c2713a.js" as="script"><link rel="prefetch" href="/assets/index.html-2e96c3d2.js" as="script"><link rel="prefetch" href="/assets/index.html-9f1eff22.js" as="script"><link rel="prefetch" href="/assets/index.html-16b34053.js" as="script"><link rel="prefetch" href="/assets/index.html-4e233464.js" as="script"><link rel="prefetch" href="/assets/index.html-d90f0ec9.js" as="script"><link rel="prefetch" href="/assets/index.html-3202320f.js" as="script"><link rel="prefetch" href="/assets/index.html-c3fe2c85.js" as="script"><link rel="prefetch" href="/assets/index.html-f3052411.js" as="script"><link rel="prefetch" href="/assets/index.html-5485bfc3.js" as="script"><link rel="prefetch" href="/assets/index.html-a7568890.js" as="script"><link rel="prefetch" href="/assets/index.html-9d25f5f2.js" as="script"><link rel="prefetch" href="/assets/index.html-b9dd3162.js" as="script"><link rel="prefetch" href="/assets/index.html-ff33d682.js" as="script"><link rel="prefetch" href="/assets/index.html-3bce843e.js" as="script"><link rel="prefetch" href="/assets/index.html-09b9da96.js" as="script"><link rel="prefetch" href="/assets/index.html-750acad1.js" as="script"><link rel="prefetch" href="/assets/index.html-1c1e573d.js" as="script"><link rel="prefetch" href="/assets/index.html-8eb4570b.js" as="script"><link rel="prefetch" href="/assets/index.html-7dd1db94.js" as="script"><link rel="prefetch" href="/assets/index.html-32048506.js" as="script"><link rel="prefetch" href="/assets/index.html-a4e9e805.js" as="script"><link rel="prefetch" href="/assets/index.html-df3e534f.js" as="script"><link rel="prefetch" href="/assets/index.html-cb3cc9f5.js" as="script"><link rel="prefetch" href="/assets/index.html-0994fca8.js" as="script"><link rel="prefetch" href="/assets/index.html-a902e771.js" as="script"><link rel="prefetch" href="/assets/index.html-76fbbff6.js" as="script"><link rel="prefetch" href="/assets/index.html-7bc29919.js" as="script"><link rel="prefetch" href="/assets/index.html-2642a77f.js" as="script"><link rel="prefetch" href="/assets/index.html-8dfad283.js" as="script"><link rel="prefetch" href="/assets/index.html-0e75c0da.js" as="script"><link rel="prefetch" href="/assets/index.html-1d59d05d.js" as="script"><link rel="prefetch" href="/assets/index.html-5789a1c9.js" as="script"><link rel="prefetch" href="/assets/index.html-a74daf45.js" as="script"><link rel="prefetch" href="/assets/index.html-12b75b8f.js" as="script"><link rel="prefetch" href="/assets/index.html-9515f8c6.js" as="script"><link rel="prefetch" href="/assets/001.html-574075f4.js" as="script"><link rel="prefetch" href="/assets/002.html-993f8662.js" as="script"><link rel="prefetch" href="/assets/003.html-1d3ffaf8.js" as="script"><link rel="prefetch" href="/assets/005.html-bba9e91e.js" as="script"><link rel="prefetch" href="/assets/006.html-0247f557.js" as="script"><link rel="prefetch" href="/assets/007.html-51de7810.js" as="script"><link rel="prefetch" href="/assets/008.html-16436522.js" as="script"><link rel="prefetch" href="/assets/009.html-03f2caea.js" as="script"><link rel="prefetch" href="/assets/010.html-3ed72284.js" as="script"><link rel="prefetch" href="/assets/011.html-d83c372e.js" as="script"><link rel="prefetch" href="/assets/012.html-6a046865.js" as="script"><link rel="prefetch" href="/assets/013.html-dffe99b9.js" as="script"><link rel="prefetch" href="/assets/014.html-840a1c3e.js" as="script"><link rel="prefetch" href="/assets/015.html-aaa70cb2.js" as="script"><link rel="prefetch" href="/assets/016.html-fc074009.js" as="script"><link rel="prefetch" href="/assets/017.html-4289f43b.js" as="script"><link rel="prefetch" href="/assets/018.html-c5212d59.js" as="script"><link rel="prefetch" href="/assets/019.html-79673349.js" as="script"><link rel="prefetch" href="/assets/020.html-484e0351.js" as="script"><link rel="prefetch" href="/assets/021.html-5adc7b67.js" as="script"><link rel="prefetch" href="/assets/404.html-0d328eb1.js" as="script"><link rel="prefetch" href="/assets/index.html-b5923f05.js" as="script"><link rel="prefetch" href="/assets/index.html-897e3fee.js" as="script"><link rel="prefetch" href="/assets/index.html-04118379.js" as="script"><link rel="prefetch" href="/assets/index.html-4881f9ae.js" as="script"><link rel="prefetch" href="/assets/index.html-2e538d6e.js" as="script"><link rel="prefetch" href="/assets/index.html-170e8793.js" as="script"><link rel="prefetch" href="/assets/index.html-8d5346cf.js" as="script"><link rel="prefetch" href="/assets/index.html-d5bd79da.js" as="script"><link rel="prefetch" href="/assets/index.html-a776aaa2.js" as="script"><link rel="prefetch" href="/assets/index.html-e0a55fb2.js" as="script"><link rel="prefetch" href="/assets/index.html-bef47642.js" as="script"><link rel="prefetch" href="/assets/index.html-0052e441.js" as="script"><link rel="prefetch" href="/assets/index.html-e311159f.js" as="script"><link rel="prefetch" href="/assets/index.html-f250bff0.js" as="script"><link rel="prefetch" href="/assets/index.html-1dd2826f.js" as="script"><link rel="prefetch" href="/assets/index.html-ff1a624d.js" as="script"><link rel="prefetch" href="/assets/index.html-c40791ce.js" as="script"><link rel="prefetch" href="/assets/index.html-c5809a8a.js" as="script"><link rel="prefetch" href="/assets/index.html-86002b0f.js" as="script"><link rel="prefetch" href="/assets/index.html-4098fd63.js" as="script"><link rel="prefetch" href="/assets/index.html-f01c3636.js" as="script"><link rel="prefetch" href="/assets/index.html-4dabd97c.js" as="script"><link rel="prefetch" href="/assets/index.html-5af11abe.js" as="script"><link rel="prefetch" href="/assets/index.html-9390176b.js" as="script"><link rel="prefetch" href="/assets/index.html-0233c2ad.js" as="script"><link rel="prefetch" href="/assets/index.html-02fe76b5.js" as="script"><link rel="prefetch" href="/assets/index.html-bba363df.js" as="script"><link rel="prefetch" href="/assets/index.html-ed24b91b.js" as="script"><link rel="prefetch" href="/assets/index.html-0f1c998a.js" as="script"><link rel="prefetch" href="/assets/index.html-25c25930.js" as="script"><link rel="prefetch" href="/assets/index.html-be930330.js" as="script"><link rel="prefetch" href="/assets/index.html-d0d80000.js" as="script"><link rel="prefetch" href="/assets/index.html-e4982e2f.js" as="script"><link rel="prefetch" href="/assets/index.html-73169cf7.js" as="script"><link rel="prefetch" href="/assets/index.html-b38cb720.js" as="script"><link rel="prefetch" href="/assets/index.html-162506da.js" as="script"><link rel="prefetch" href="/assets/index.html-62fd9ac2.js" as="script"><link rel="prefetch" href="/assets/index.html-6ffe3c03.js" as="script"><link rel="prefetch" href="/assets/index.html-518fcbde.js" as="script"><link rel="prefetch" href="/assets/index.html-a2b7fd95.js" as="script"><link rel="prefetch" href="/assets/index.html-2b323ea8.js" as="script"><link rel="prefetch" href="/assets/index.html-f1a0c886.js" as="script"><link rel="prefetch" href="/assets/index.html-5e6977c8.js" as="script"><link rel="prefetch" href="/assets/giscus-0b7adcf8.js" as="script"><link rel="prefetch" href="/assets/SearchResult-2fbf4957.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div data-v-77edf713><header class="header" style="opacity:0;" data-v-90176301><div class="header_container" data-v-90176301><div data-v-90176301><a class="header_title" href="/" data-v-90176301>Leopold&#39;s Blog</a></div><div class="appearance" data-v-90176301><!--[--><button type="button" class="search-pro-button" role="search" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">搜索</div><!----></button><!--]--><button class="switch" data-v-90176301><span class="icon" style="display:block;" data-v-90176301><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" style="" data-v-90176301><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" style="display:none;" data-v-90176301><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></button><button class="switch mobile_list_btn" type="button" data-v-90176301><span class="btn_top" data-v-90176301></span><span class="btn_middle" data-v-90176301></span><span class="btn_bottom" data-v-90176301></span></button></div></div></header><div class="main"><div class="background" data-v-fee8de4c><svg class="pull_down" viewbox="0 0 1026 1024" xmlns="http://www.w3.org/2000/svg" data-v-fee8de4c data-v-3c8412b0><path d="M857.088 224.256q28.672-28.672 69.12-28.672t69.12 28.672q29.696 28.672 29.696 68.608t-29.696 68.608l-382.976 380.928q-12.288 14.336-30.72 19.968t-38.912 4.608-40.448-8.704-34.304-22.016l-376.832-374.784q-29.696-28.672-29.696-68.608t29.696-68.608q14.336-14.336 32.256-21.504t36.864-7.168 37.376 7.168 32.768 21.504l313.344 309.248z" data-v-3c8412b0></path></svg></div><div style="display:flex;"><div class="sider_keeper" data-v-e01a06ce><div class="folding" data-v-e01a06ce><!-- <div class="folding"> --><div class="sidebar_top card_border" style="min-height:1rem" data-v-e01a06ce><div class="tags_brand" data-v-e01a06ce>本文大纲</div><section class="article_sidebar" data-v-e01a06ce data-v-905b99e1><ul data-v-905b99e1><!--[--><li class="level2" data-v-905b99e1><a class="sidebar-link" href="#安装" data-v-905b99e1>安装</a><ul class="level3" data-v-905b99e1><!--[--><!--]--></ul></li><li class="level2" data-v-905b99e1><a class="sidebar-link" href="#生成配置并修改配置文件引入多个配置" data-v-905b99e1>生成配置并修改配置文件引入多个配置</a><ul class="level3" data-v-905b99e1><!--[--><li data-v-905b99e1><a class="sidebar-link" href="#生成" data-v-905b99e1>生成</a><ul class="level4" data-v-905b99e1><!--[--><!--]--></ul></li><li data-v-905b99e1><a class="sidebar-link" href="#引入多个配置" data-v-905b99e1>引入多个配置</a><ul class="level4" data-v-905b99e1><!--[--><!--]--></ul></li><!--]--></ul></li><li class="level2" data-v-905b99e1><a class="sidebar-link" href="#启动supervisor与supervisor常用命令" data-v-905b99e1>启动supervisor与supervisor常用命令</a><ul class="level3" data-v-905b99e1><!--[--><!--]--></ul></li><li class="level2" data-v-905b99e1><a class="sidebar-link" href="#自定义管理目录存放配置文件与进程文件" data-v-905b99e1>自定义管理目录存放配置文件与进程文件</a><ul class="level3" data-v-905b99e1><!--[--><!--]--></ul></li><li class="level2" data-v-905b99e1><a class="sidebar-link" href="#常见问题" data-v-905b99e1>常见问题</a><ul class="level3" data-v-905b99e1><!--[--><!--]--></ul></li><!--]--></ul></section></div><div class="sidebar_bottom card_border" data-v-e01a06ce><div class="avatar" style="background-image:url(/assets/imgs/avatar.jpg);" data-v-e01a06ce></div><div class="author" data-v-e01a06ce>Leopold</div><div class="summary" data-v-e01a06ce><div data-v-e01a06ce><p data-v-e01a06ce>文章</p></div><div data-v-e01a06ce><p data-v-e01a06ce>分类</p></div><div data-v-e01a06ce><p data-v-e01a06ce>标签</p></div><div data-v-e01a06ce><p data-v-e01a06ce>21</p></div><div data-v-e01a06ce><p data-v-e01a06ce>10</p></div><div data-v-e01a06ce><p data-v-e01a06ce>31</p></div></div><div class="connection" data-v-e01a06ce><div class="grid_icon" data-v-e01a06ce><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon" data-v-e01a06ce><path d="M1023.560892 524.587752c0 114.331752-32.549236 217.148443-97.647709 308.450075-65.047295 91.301632-149.132822 154.455339-252.205404 189.512299-11.975662 2.303012-20.778286 0.716493-26.305515-4.759558a27.584966 27.584966 0 0 1-8.342021-20.471218V853.150798c0-44.166653-11.566238-76.511177-34.647536-96.982394a446.272549 446.272549 0 0 0 68.32269-12.282731c20.16415-5.476051 41.044792-14.329852 62.590748-26.612583a187.311643 187.311643 0 0 0 53.992837-45.446104c14.432209-18.014672 26.203159-41.914819 35.312851-71.751618 9.109692-29.8368 13.664538-64.074912 13.664538-102.765514 0-55.118754-17.554069-102.049021-52.61103-140.739623 16.376974-41.454216 14.636921-87.872703-5.373695-139.357815-12.436265-4.094244-30.399759-1.535341-53.941659 7.523172a355.17563 355.17563 0 0 0-61.311297 30.041513l-25.333132 16.376974a462.137743 462.137743 0 0 0-127.945112-17.707604 462.137743 462.137743 0 0 0-127.945111 17.758782 589.571074 589.571074 0 0 0-28.301459-18.424096c-11.77095-7.31846-30.34858-16.069906-55.681713-26.305515-25.281954-10.235609-44.422543-13.306292-57.31941-9.212048-19.498835 51.433935-21.085354 97.852421-4.606024 139.306637-35.108139 38.690602-52.713386 85.620869-52.713386 140.739623 0 38.690602 4.606024 72.826357 13.715716 102.458445 9.109692 29.58091 20.778286 53.481057 34.954605 71.700441a180.658498 180.658498 0 0 0 53.634591 45.753172c21.545957 12.282731 42.477777 21.18771 62.641926 26.612583 20.215328 5.527229 42.989557 9.621472 68.32269 12.333909-17.758781 16.376974-28.659705 39.867697-32.651593 70.369811a129.941055 129.941055 0 0 1-29.990334 10.235609 184.087426 184.087426 0 0 1-37.974109 3.428929c-14.688099 0-29.171485-4.913092-43.654872-14.688099-14.432209-9.826185-26.766117-24.053681-37.001726-42.682489a109.162769 109.162769 0 0 0-32.293346-35.517563c-13.101579-9.109692-24.104859-14.585743-33.009839-16.376974l-13.306292-2.047122c-9.314404 0-15.762838 1.023561-19.345301 3.070683-3.582463 2.047122-4.606024 4.606024-3.326572 7.83024a37.769397 37.769397 0 0 0 5.987831 9.570295 49.182101 49.182101 0 0 0 8.700267 8.188487l4.606024 3.377751c9.826185 4.606024 19.447657 13.255114 29.017952 25.998447 9.570294 12.743333 16.581686 24.360749 20.982998 34.80107l6.653146 15.71166c5.783119 17.298179 15.558126 31.320963 29.376197 42.017174 13.766894 10.747389 28.659705 17.554069 44.627255 20.471218 15.96755 2.968327 31.423319 4.606024 46.316131 4.810736 14.841633 0.204712 27.22672-0.562958 37.001726-2.405368l15.302235-2.712436c0 17.298179 0.102356 37.564685 0.358247 60.799517l0.307068 36.848192c0 8.188487-2.86597 15.046345-8.700268 20.471218-5.731941 5.527229-14.636921 7.113748-26.612583 4.810736-103.072582-35.056961-187.158109-98.261846-252.205404-189.512299C32.549236 741.736195 0 638.919504 0 524.587752c0-95.191163 22.876586-182.910331 68.629758-263.31104a516.028224 516.028224 0 0 1 186.288082-190.894106A491.309228 491.309228 0 0 1 511.780446 0.012795a491.309228 491.309228 0 0 1 256.913784 70.369811 516.028224 516.028224 0 0 1 186.236905 190.894106C1000.684306 341.626242 1023.560892 429.447767 1023.560892 524.587752z"></path></svg></div><div data-v-e01a06ce><span data-v-e01a06ce>github.com/SayNop</span></div><div class="grid_icon" data-v-e01a06ce><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon" data-v-e01a06ce><path d="M512 1024C229.222 1024 0 794.778 0 512S229.222 0 512 0s512 229.222 512 512-229.222 512-512 512z m259.149-568.883h-290.74a25.293 25.293 0 0 0-25.292 25.293l-0.026 63.206c0 13.952 11.315 25.293 25.267 25.293h177.024c13.978 0 25.293 11.315 25.293 25.267v12.646a75.853 75.853 0 0 1-75.853 75.853h-240.23a25.293 25.293 0 0 1-25.267-25.293V417.203a75.853 75.853 0 0 1 75.827-75.853h353.946a25.293 25.293 0 0 0 25.267-25.292l0.077-63.207a25.293 25.293 0 0 0-25.268-25.293H417.152a189.62 189.62 0 0 0-189.62 189.645V771.15c0 13.977 11.316 25.293 25.294 25.293h372.94a170.65 170.65 0 0 0 170.65-170.65V480.384a25.293 25.293 0 0 0-25.293-25.267z"></path></svg></div><div data-v-e01a06ce><span data-v-e01a06ce>gitee.com/WhenTimeGoesBy</span></div><!-- <div class="grid_icon"><mail_icon class="icon" /></div><div><span @click="open_link(themeData.connection_link.mail)">{{ themeData.connection_link.mail }}</span></div> --><div class="grid_icon" data-v-e01a06ce><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon" data-v-e01a06ce><path d="M874.666667 181.333333H149.333333c-40.533333 0-74.666667 34.133333-74.666666 74.666667v512c0 40.533333 34.133333 74.666667 74.666666 74.666667h725.333334c40.533333 0 74.666667-34.133333 74.666666-74.666667V256c0-40.533333-34.133333-74.666667-74.666666-74.666667z m-725.333334 64h725.333334c6.4 0 10.666667 4.266667 10.666666 10.666667v25.6L512 516.266667l-373.333333-234.666667V256c0-6.4 4.266667-10.666667 10.666666-10.666667z m725.333334 533.333334H149.333333c-6.4 0-10.666667-4.266667-10.666666-10.666667V356.266667l356.266666 224c4.266667 4.266667 10.666667 4.266667 17.066667 4.266666s12.8-2.133333 17.066667-4.266666l356.266666-224V768c0 6.4-4.266667 10.666667-10.666666 10.666667z"></path></svg></div><div data-v-e01a06ce><a href="mailto:fur999immer@gmail.com" data-v-e01a06ce>fur999immer@gmail.com</a></div></div></div></div></div><div class="content_container"><!--[--><div class="card_border article_container" data-v-77edf713><div class="frontmatter_info" data-v-77edf713><h1 data-v-77edf713>Supervisor的配置</h1><div data-v-77edf713>2023-03-08</div><div class="card_tag frontmatter_tags" data-v-77edf713><span class="icon" data-v-77edf713><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-77edf713><path d="M896 682.666667a42.666667 42.666667 0 0 0-42.666667-42.666667h-85.333333v-85.333333a85.333333 85.333333 0 0 0-85.333333-85.333334h-128V384h85.333333a42.666667 42.666667 0 0 0 42.666667-42.666667V170.666667a42.666667 42.666667 0 0 0-42.666667-42.666667H384a42.666667 42.666667 0 0 0-42.666667 42.666667v170.666666a42.666667 42.666667 0 0 0 42.666667 42.666667h85.333333v85.333333H341.333333a85.333333 85.333333 0 0 0-85.333333 85.333334v85.333333H170.666667a42.666667 42.666667 0 0 0-42.666667 42.666667v170.666666a42.666667 42.666667 0 0 0 42.666667 42.666667h256a42.666667 42.666667 0 0 0 42.666666-42.666667v-170.666666a42.666667 42.666667 0 0 0-42.666666-42.666667H341.333333v-85.333333h341.333334v85.333333h-85.333334a42.666667 42.666667 0 0 0-42.666666 42.666667v170.666666a42.666667 42.666667 0 0 0 42.666666 42.666667h256a42.666667 42.666667 0 0 0 42.666667-42.666667z"></path></svg></span><!--[--><!-- 使用冒泡stop，阻止父组件的跳转覆盖子组件 --><span class="article_category" data-v-77edf713 data-v-c2920afd>Supervisor</span><!--]--><span class="icon" style="margin-right:5px;" data-v-77edf713><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-77edf713><path d="M985.6 473.6 985.6 473.6l-256 256-256 256 0 0C454.4 1011.2 422.4 1024 384 1024c-38.4 0-70.4-12.8-89.6-38.4l0 0-256-256 0 0C12.8 710.4 0 678.4 0 640c0-38.4 12.8-70.4 38.4-89.6l0 0 256-256 256-256 0 0C569.6 12.8 601.6 0 640 0l256 0c70.4 0 128 57.6 128 128l0 256C1024 422.4 1011.2 454.4 985.6 473.6zM768 128c-70.4 0-128 57.6-128 128 0 70.4 57.6 128 128 128 70.4 0 128-57.6 128-128C896 185.6 838.4 128 768 128z"></path></svg></span><!--[--><!--[--><!-- 使用冒泡stop，阻止父组件的跳转覆盖子组件 --><span class="article_tag" data-v-77edf713 data-v-15d5095d>Supervisor</span><!--]--><!--[--><!-- 使用冒泡stop，阻止父组件的跳转覆盖子组件 --><span class="article_tag" data-v-77edf713 data-v-15d5095d>Linux</span><!--]--><!--]--></div></div><div data-v-77edf713><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><p>推荐使用pip进行安装。项目环境若为python3，可直接安装在python3下</p><div class="macos language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pip3 <span class="token function">install</span> supervisor
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="生成配置并修改配置文件引入多个配置" tabindex="-1"><a class="header-anchor" href="#生成配置并修改配置文件引入多个配置" aria-hidden="true">#</a> 生成配置并修改配置文件引入多个配置</h2><h3 id="生成" tabindex="-1"><a class="header-anchor" href="#生成" aria-hidden="true">#</a> 生成</h3><p>通过以下命令生成配置，一般放置在<code>/etc/</code>路径下</p><div class="macos language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>echo_supervisord_conf <span class="token operator">&gt;</span> supervisord.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="引入多个配置" tabindex="-1"><a class="header-anchor" href="#引入多个配置" aria-hidden="true">#</a> 引入多个配置</h3><p>在原始配置文件末尾添加多个配置文件的目录</p><div class="language-systemd line-numbers-mode" data-ext="systemd"><pre class="language-systemd"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">include</span><span class="token punctuation">]</span></span>
<span class="token comment">; add your conf in conf.d dir</span>
<span class="token key attr-name">files</span> <span class="token punctuation">=</span> <span class="token value attr-value">/etc/supervisor/conf.d/*.conf</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="启动supervisor与supervisor常用命令" tabindex="-1"><a class="header-anchor" href="#启动supervisor与supervisor常用命令" aria-hidden="true">#</a> 启动supervisor与supervisor常用命令</h2><p>启动时指明配置文件</p><div class="macos language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /etc/  <span class="token comment"># 进入配置文件所在目录或是直接在-c中指明文件位置</span>
supervisord <span class="token parameter variable">-c</span> supervisord.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>常用命令</p><div class="macos language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 进入控制台</span>
supervisorctl
<span class="token comment"># 启动进程</span>
start process1
<span class="token comment"># 停止进程</span>
stop process1
<span class="token comment"># 重启进程（停起过快，容易端口冲突）</span>
restart process1
<span class="token comment"># 启动组内所有进程</span>
start group1:*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="自定义管理目录存放配置文件与进程文件" tabindex="-1"><a class="header-anchor" href="#自定义管理目录存放配置文件与进程文件" aria-hidden="true">#</a> 自定义管理目录存放配置文件与进程文件</h2><ul><li>在目标位置创建文件。例如：在根目录创建文件夹<code>/data/etc/supervisor/</code>用于管理super相关配置文件，或者在<code>/etc/supervisor/</code>中</li><li>生成配置文件后修改相关文件的位置，以下配置以<code>/data/etc/supervisor/</code>为例，修改了的<code>file</code>、<code>pidfile</code>、<code>serverurl</code>、<code>files</code>。可不修改<code>pidfile</code>、<code>serverurl</code>以方便进入控制台。</li></ul><div class="language-systemd line-numbers-mode" data-ext="systemd"><pre class="language-systemd"><code><span class="token comment">; Warning:</span>
<span class="token comment">;  Paths throughout this example file use /tmp because it is available on most</span>
<span class="token comment">;  systems.  You will likely need to change these to locations more appropriate</span>
<span class="token comment">;  for your system.  Some systems periodically delete older files in /tmp.</span>
<span class="token comment">;  Notably, if the socket file defined in the [unix_http_server] section below</span>
<span class="token comment">;  is deleted, supervisorctl will be unable to connect to supervisord.</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">unix_http_server</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">file</span><span class="token punctuation">=</span><span class="token value attr-value">/data/etc/supervisor/supervisor.sock ; the path to the socket file</span>
<span class="token comment">;chmod=0700                 ; socket file mode (default 0700)</span>
<span class="token comment">;chown=nobody:nogroup       ; socket file uid:gid owner</span>
<span class="token comment">;username=user              ; default is no username (open server)</span>
<span class="token comment">;password=123               ; default is no password (open server)</span>

<span class="token comment">; Security Warning:</span>
<span class="token comment">;  The inet HTTP server is not enabled by default.  The inet HTTP server is</span>

<span class="token comment">;[inet_http_server]         ; inet (TCP) server disabled by default</span>
<span class="token comment">;port=127.0.0.1:9001        ; ip_address:port specifier, *:port for all iface</span>
<span class="token comment">;username=user              ; default is no username (open server)</span>
<span class="token comment">;password=123               ; default is no password (open server)</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">supervisord</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">logfile</span><span class="token punctuation">=</span><span class="token value attr-value">/data/logs/supervisor/supervisord.log ; main log file; default $CWD/supervisord.log</span>
<span class="token key attr-name">logfile_maxbytes</span><span class="token punctuation">=</span><span class="token value attr-value">50MB        ; max main logfile bytes b4 rotation; default 50MB</span>
<span class="token key attr-name">logfile_backups</span><span class="token punctuation">=</span><span class="token value attr-value">10           ; # of main logfile backups; 0 means none, default 10</span>
<span class="token key attr-name">loglevel</span><span class="token punctuation">=</span><span class="token value attr-value">info                ; log level; default info; others: debug,warn,trace</span>
<span class="token key attr-name">pidfile</span><span class="token punctuation">=</span><span class="token value attr-value">/data/etc/supervisor/supervisord.pid ; supervisord pidfile; default supervisord.pid</span>
<span class="token key attr-name">nodaemon</span><span class="token punctuation">=</span><span class="token value attr-value">false               ; start in foreground if true; default false</span>
<span class="token key attr-name">silent</span><span class="token punctuation">=</span><span class="token value attr-value">false                 ; no logs to stdout if true; default false</span>
<span class="token key attr-name">minfds</span><span class="token punctuation">=</span><span class="token value attr-value">1024                  ; min. avail startup file descriptors; default 1024</span>
<span class="token key attr-name">minprocs</span><span class="token punctuation">=</span><span class="token value attr-value">200                 ; min. avail process descriptors;default 200</span>
<span class="token comment">;umask=022                   ; process file creation umask; default 022</span>
<span class="token comment">;user=supervisord            ; setuid to this UNIX account at startup; recommended if root</span>
<span class="token comment">;identifier=supervisor       ; supervisord identifier, default is &#39;supervisor&#39;</span>
<span class="token comment">;directory=/tmp              ; default is not to cd during start</span>
<span class="token comment">;nocleanup=true              ; don&#39;t clean up tempfiles at start; default false</span>
<span class="token comment">;childlogdir=/tmp            ; &#39;AUTO&#39; child log dir, default $TEMP</span>
<span class="token comment">;environment=KEY=&quot;value&quot;     ; key value pairs to add to environment</span>
<span class="token comment">;strip_ansi=false            ; strip ansi escape codes in logs; def. false</span>

<span class="token comment">; The rpcinterface:supervisor section must remain in the config file for</span>
<span class="token comment">; RPC (supervisorctl/web interface) to work.  Additional interfaces may be</span>
<span class="token comment">; added by defining them in separate [rpcinterface:x] sections.</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">rpcinterface:supervisor</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">supervisor.rpcinterface_factory</span> <span class="token punctuation">=</span> <span class="token value attr-value">supervisor.rpcinterface:make_main_rpcinterface</span>

<span class="token comment">; The supervisorctl section configures how supervisorctl will connect to</span>
<span class="token comment">; supervisord.  configure it match the settings in either the unix_http_server</span>
<span class="token comment">; or inet_http_server section.</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">supervisorctl</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">serverurl</span><span class="token punctuation">=</span><span class="token value attr-value">unix:///data/etc/supervisor/supervisor.sock ; use a unix:// URL  for a unix socket</span>
<span class="token comment">;serverurl=http://127.0.0.1:9001 ; use an http:// url to specify an inet socket</span>
<span class="token comment">;username=chris              ; should be same as in [*_http_server] if set</span>
<span class="token comment">;password=123                ; should be same as in [*_http_server] if set</span>
<span class="token comment">;prompt=mysupervisor         ; cmd line prompt (default &quot;supervisor&quot;)</span>
<span class="token comment">;history_file=~/.sc_history  ; use readline history if available</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">include</span><span class="token punctuation">]</span></span>
<span class="token comment">; add your conf in conf.d dir</span>
<span class="token key attr-name">files</span> <span class="token punctuation">=</span> <span class="token value attr-value">/data/etc/supervisor/conf.d/*.conf</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>每次进入控制台</strong>时需指明配置文件<code>supervisorctl -c /data/etc/supervisor/supervisord.conf</code>。可通过<code>.zshrc</code>中设置别名方便启动</li></ul><div class="macos language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">alias</span> <span class="token assign-left variable">superctl</span><span class="token operator">=</span><span class="token string">&quot;/usr/local/bin/supervisorctl -c /data/etc/supervisor/supervisord.conf&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题" aria-hidden="true">#</a> 常见问题</h2><ul><li><p>9001连接拒绝<br> 在自定义存放目录时，如果启动控制台不指明配置文件，会出现<code>9001连接拒绝</code>。是由于修改了配置文件的pid，sock文件位置但启动ctl时未加载配置文件，而出现在默认目录下查找时查找不到进程。</p></li><li><p>Unlinking stale socket /path/to/supervisor.sock<br> 由于sock残留导致的启动异常，使用<code>cd /supervisor/sock/path/ &amp;&amp; unlink supervisord.sock</code></p></li></ul></div><div id="comment" class="giscus-wrapper input-top" style="display:block;" data-v-77edf713><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div></div><!--]--><footer class="page_footer" data-v-2c01bf66><div class="footer_middle card_border" data-v-2c01bf66><!--[--><span data-v-2c01bf66>Released under the MIT License. <br data-v-2c01bf66></span><span data-v-2c01bf66>Copyright © 2023-present Leopold <br data-v-2c01bf66></span><!--]--></div></footer></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-04189a34.js" defer></script>
  </body>
</html>
